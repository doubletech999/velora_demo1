# ูุตู ุงูุฃูุงูู ุงูุณูุงุญูุฉ ุนู ุงููุณุงุฑุงุช ูุงูุชุฎูููุงุช

## ๐ ุงูููุฎุต

ุชู ุชุนุฏูู ุงูุชุทุจูู ููุตู ุงูุฃูุงูู ุงูุณูุงุญูุฉ (Sites) ุนู ุงููุณุงุฑุงุช ูุงูุชุฎูููุงุช (Routes & Camping) ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู.

## ๐ ุงูุชุบููุฑุงุช

### 1. PathsRepository (`lib/data/repositories/paths_repository.dart`)

#### Methods ุงูุฌุฏูุฏุฉ:
- **`getSites()`**: ูุฌูุจ ุงูุฃูุงูู ุงูุณูุงุญูุฉ ููุท (`type='site'`)
- **`getRoutesAndCamping()`**: ูุฌูุจ ุงููุณุงุฑุงุช (`type='route'`) ูุงูุชุฎูููุงุช (`type='camping'`)
- **`_fetchSitesFromApi()`**: Helper method ูุฌูุจ ุงูููุงูุน ูุน pagination ุญุณุจ ุงูููุน

#### ุงูุชุนุฏููุงุช:
- ุชู ุฅูุดุงุก method ูุณุงุนุฏ `_fetchSitesFromApi()` ููุชุนุงูู ูุน pagination
- `getAllPaths()` ูุณุชุฎุฏู ุงูุขู `_fetchSitesFromApi()` ูุน `type: null`

### 2. PathsProvider (`lib/presentation/providers/paths_provider.dart`)

#### ุงููุชุบูุฑุงุช ุงูุฌุฏูุฏุฉ:
- `_sites`: ูุงุฆูุฉ ุงูุฃูุงูู ุงูุณูุงุญูุฉ ููุท
- `_routesAndCamping`: ูุงุฆูุฉ ุงููุณุงุฑุงุช ูุงูุชุฎูููุงุช

#### Getters ุงูุฌุฏูุฏุฉ:
- `sites`: ูููุตูู ุฅูู ุงูุฃูุงูู ุงูุณูุงุญูุฉ
- `routesAndCamping`: ูููุตูู ุฅูู ุงููุณุงุฑุงุช ูุงูุชุฎูููุงุช
- `filteredSites`: ููุชุฑุฉ ุงูุฃูุงูู ุงูุณูุงุญูุฉ ุญุณุจ ุงูููุงุชุฑ ุงููุญุฏุฏุฉ
- `filteredRoutesAndCamping`: ููุชุฑุฉ ุงููุณุงุฑุงุช ูุงูุชุฎูููุงุช ุญุณุจ ุงูููุงุชุฑ ุงููุญุฏุฏุฉ

#### ุงูุชุนุฏููุงุช:
- `loadPaths()` ุงูุขู ูุฌูุจ:
  1. ุฌููุน ุงููุณุงุฑุงุช (ููุชูุงูู ูุน ุงูููุฏ ุงููุฏูู)
  2. ุงูุฃูุงูู ุงูุณูุงุญูุฉ ููุท
  3. ุงููุณุงุฑุงุช ูุงูุชุฎูููุงุช

### 3. ExploreScreen (`lib/presentation/screens/explore/explore_screen.dart`)

#### ุงูุชุจููุจุงุช ุงูุฌุฏูุฏุฉ:
1. **ุงูุฃูุงูู ุงูุณูุงุญูุฉ** (`sites_tab`): ูุนุฑุถ ุงูุฃูุงูู ุงูุณูุงุญูุฉ ููุท
2. **ุงููุณุงุฑุงุช ูุงูุชุฎููู** (`routes_camping_tab`): ูุนุฑุถ ุงููุณุงุฑุงุช ูุงูุชุฎูููุงุช
3. **ุงูุฃูุดุทุฉ** (`activities_tab`): ูุนุฑุถ ุฌููุน ุงูุฃูุดุทุฉ (ุจุฏูู ุชุบููุฑ)

#### Methods ุงูุฌุฏูุฏุฉ:
- `_buildSitesTab()`: ุจูุงุก ุชุจููุจ ุงูุฃูุงูู ุงูุณูุงุญูุฉ
- `_buildRoutesAndCampingTab()`: ุจูุงุก ุชุจููุจ ุงููุณุงุฑุงุช ูุงูุชุฎููู

#### ุงูุชุนุฏููุงุช:
- ุชู ุฅุฒุงูุฉ `_buildRegionsTab()` (ูู ูุนุฏ ูุณุชุฎุฏูุงู)
- ุชู ุชุญุฏูุซ `TabBarView` ูุงุณุชุฎุฏุงู ุงูุชุจููุจุงุช ุงูุฌุฏูุฏุฉ

### 4. ุงูุชุฑุฌูุฉ (`lib/core/localization/app_localizations.dart`)

#### ุงููุตูุต ุงูุฌุฏูุฏุฉ:
- **ุงูุฅูุฌููุฒูุฉ:**
  - `sites_tab`: "Tourist Sites"
  - `routes_camping_tab`: "Routes & Camping"
  - `no_sites_available`: "No tourist sites available"
  - `no_routes_available`: "No routes or camping available"

- **ุงูุนุฑุจูุฉ:**
  - `sites_tab`: "ุงูุฃูุงูู ุงูุณูุงุญูุฉ"
  - `routes_camping_tab`: "ุงููุณุงุฑุงุช ูุงูุชุฎููู"
  - `no_sites_available`: "ูุง ุชูุฌุฏ ุฃูุงูู ุณูุงุญูุฉ ูุชุงุญุฉ"
  - `no_routes_available`: "ูุง ุชูุฌุฏ ูุณุงุฑุงุช ุฃู ุชุฎูููุงุช ูุชุงุญุฉ"

## ๐ ููููุฉ ุงูุนูู

### API Requests:
1. **ุงูุฃูุงูู ุงูุณูุงุญูุฉ**: `GET /api/sites?type=site`
2. **ุงููุณุงุฑุงุช**: `GET /api/sites?type=route`
3. **ุงูุชุฎูููุงุช**: `GET /api/sites?type=camping`

### Data Flow:
```
PathsProvider.loadPaths()
  โโโ getAllPaths() โ ุฌููุน ุงููุณุงุฑุงุช
  โโโ getSites() โ ุงูุฃูุงูู ุงูุณูุงุญูุฉ ููุท
  โโโ getRoutesAndCamping() โ ุงููุณุงุฑุงุช + ุงูุชุฎูููุงุช
        โโโ getSites(type='route')
        โโโ getSites(type='camping')
```

### UI Flow:
```
ExploreScreen
  โโโ Tab 1: ุงูุฃูุงูู ุงูุณูุงุญูุฉ
  โ     โโโ pathsProvider.filteredSites
  โโโ Tab 2: ุงููุณุงุฑุงุช ูุงูุชุฎููู
  โ     โโโ pathsProvider.filteredRoutesAndCamping
  โโโ Tab 3: ุงูุฃูุดุทุฉ
        โโโ pathsProvider.paths (ุฌููุน ุงููุณุงุฑุงุช)
```

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. Laravel Backend:
ุชุฃูุฏ ูู ุฃู Laravel API ูุฏุนู ููุชุฑุฉ ุญุณุจ `type`:
- `type=site` ููุฃูุงูู ุงูุณูุงุญูุฉ
- `type=route` ูููุณุงุฑุงุช
- `type=camping` ููุชุฎูููุงุช

### 2. ุงูุจูุงูุงุช ุงูููููุฉ:
ุนูุฏ ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูููููุฉ (fallback):
- **ุงูุฃูุงูู ุงูุณูุงุญูุฉ**: ุงูููุงูุน ุงูุชู ูุง ุชุญุชูู ุนูู `hiking` ุฃู `camping` ุฃู `length < 5.0`
- **ุงููุณุงุฑุงุช ูุงูุชุฎูููุงุช**: ุงูููุงูุน ุงูุชู ุชุญุชูู ุนูู `hiking` ุฃู `camping` ุฃู `length >= 5.0`

### 3. ุงูุชูุงูู ูุน ุงูููุฏ ุงููุฏูู:
- `pathsProvider.paths` ูุง ูุฒุงู ูุนูู (ุฌููุน ุงููุณุงุฑุงุช)
- `pathsProvider.filteredPaths` ูุง ูุฒุงู ูุนูู
- ุงูููุฏ ุงููุฏูู ุงูุฐู ูุณุชุฎุฏู `pathsProvider.paths` ุณูุณุชูุฑ ูู ุงูุนูู

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ API:
```bash
# ุฌูุจ ุงูุฃูุงูู ุงูุณูุงุญูุฉ
curl http://localhost:8000/api/sites?type=site

# ุฌูุจ ุงููุณุงุฑุงุช
curl http://localhost:8000/api/sites?type=route

# ุฌูุจ ุงูุชุฎูููุงุช
curl http://localhost:8000/api/sites?type=camping
```

### ุงุฎุชุจุงุฑ UI:
1. ุงูุชุญ ุชุทุจูู Flutter
2. ุงูุชูู ุฅูู ุตูุญุฉ "Explore"
3. ุชุญูู ูู ุงูุชุจููุจุงุช:
   - **ุงูุฃูุงูู ุงูุณูุงุญูุฉ**: ูุฌุจ ุฃู ุชุนุฑุถ ููุท ุงูุฃูุงูู ุงูุณูุงุญูุฉ
   - **ุงููุณุงุฑุงุช ูุงูุชุฎููู**: ูุฌุจ ุฃู ุชุนุฑุถ ููุท ุงููุณุงุฑุงุช ูุงูุชุฎูููุงุช
   - **ุงูุฃูุดุทุฉ**: ูุฌุจ ุฃู ุชุนุฑุถ ุฌููุน ุงูุฃูุดุทุฉ

## โ ุงูุชุญูู ูู ุงููุฌุงุญ

- [x] ุชู ุฅุถุงูุฉ `getSites()` ูู `PathsRepository`
- [x] ุชู ุฅุถุงูุฉ `getRoutesAndCamping()` ูู `PathsRepository`
- [x] ุชู ุชุญุฏูุซ `PathsProvider` ูุฏุนู ุงูููุงุฆู ุงููููุตูุฉ
- [x] ุชู ุชุญุฏูุซ `ExploreScreen` ูุนุฑุถ ุงูุชุจููุจุงุช ุงูุฌุฏูุฏุฉ
- [x] ุชู ุฅุถุงูุฉ ุงููุตูุต ุงููุชุฑุฌูุฉ
- [x] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Linter
- [x] ุงูููุฏ ุงููุฏูู ูุง ูุฒุงู ูุชูุงูู

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ

- ูููู ุชุญุณูู ุงูุฃุฏุงุก ุนู ุทุฑูู ุชุญููู ุงูุจูุงูุงุช ุจุดูู ูุชูุงุฒู (parallel)
- ูููู ุฅุถุงูุฉ cache ูููุตู ููุฃูุงูู ุงูุณูุงุญูุฉ ูุงููุณุงุฑุงุช
- ูููู ุฅุถุงูุฉ pull-to-refresh ููู ุชุจููุจ ุจุดูู ูููุตู

